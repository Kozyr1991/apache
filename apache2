FROM    centos:7

MAINTAINER Ivan Shuhai  <schugaj@gmail.com>



#install php & httpd

RUN yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm

RUN yum -y install --enablerepo=remi,remi-php55 php php-opcache php-devel php-mbstring php-mcrypt php-mysqlnd php-pecl-xdebug php-pecl-xhprof $



RUN php -v



#install ssl

RUN yum -y install openssl mod_ssl



#update httpd.conf

ADD httpd.conf /etc/httpd/conf/httpd.conf

RUN cat /etc/httpd/conf.d/ssl.conf



#update php.ini

ADD php.ini /etc/php.ini



#create test php file

RUN echo "<?php phpinfo();  ?>" > /var/www/html/info.php 



#port and entry

EXPOSE 81

#EXPOSE 443 



CMD ["/usr/sbin/httpd", "-D", "FOREGROUND"]
